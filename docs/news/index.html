<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • ggtrace</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Atkinson%20Hyperlegible-0.4.0/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Changelog"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ggtrace</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.8.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <h6 class="dropdown-header" data-toc-skip>Usage</h6>
    <a class="dropdown-item" href="../articles/intro.html">Introduction to ggtrace()</a>
    <a class="dropdown-item" href="../articles/showcase-ggplot_build.html">Showcase: ggplot build</a>
    <a class="dropdown-item" href="../articles/showcase-aes_evaluation.html">Showcase: aes evaluation</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Case Studies</h6>
    <a class="dropdown-item" href="../articles/casestudy-ggxmean.html">Debugging an extension package</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Miscellaneous</h6>
    <a class="dropdown-item" href="../articles/FAQ.html">Frequently asked questions</a>
    <a class="dropdown-item" href="../articles/comparisons.html">Comparison of debugging methods</a>
    <a class="dropdown-item" href="../articles/technical-details.html">Technical details</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/yjunechoe/ggtrace/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/yjunechoe/ggtrace/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="ggtrace-development-version">ggtrace (development version)<a class="anchor" aria-label="anchor" href="#ggtrace-development-version"></a></h2>
<div class="section level4">
<h4 id="breaking-changes-development-version">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-development-version"></a></h4>
<ul><li>
<code><a href="../reference/ggtrace_capture_env.html">ggtrace_capture_env()</a></code> default value of <code>at</code>
is changed to <code>-1L</code>, which captures a snapshot of the runtime
environment right before the method returns.</li>
<li>“modify” workflows renames to “highjack” to reflect the fact that
they always return the graphical output (gtable grob) (<a href="https://github.com/yjunechoe/ggtrace/issues/78" class="external-link">#78</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="new-features-development-version">New Features<a class="anchor" aria-label="anchor" href="#new-features-development-version"></a></h4>
<ul><li><p>Added complements to the <code><a href="https://rdrr.io/r/base/debug.html" class="external-link">base::debug()</a></code> family of
functions that are compatible with ggproto methods -
<code><a href="../reference/ggdebug.html">ggdebug()</a></code>, <code><a href="../reference/ggdebug.html">ggdebugonce()</a></code>,
<code><a href="../reference/ggdebug.html">ggundebug()</a></code></p></li>
<li><p><code><a href="../reference/ggtrace_inspect_n.html">ggtrace_inspect_n()</a></code> to get the number of times a
method was called in the evaluation of a ggplot</p></li>
<li><p><code><a href="../reference/ggtrace_highjack_return.html">ggtrace_highjack_return()</a></code> exposes
<code>._counter_</code> in the <code>value</code> argument</p></li>
<li>
<p><code><a href="../reference/with_ggtrace.html">with_ggtrace()</a></code> gets a <code>out</code> argument
which can take 1 of three options:</p>
<ul><li>“t” or “tracedump” (default): returns the local tracedump from
triggering traces on the <code>method</code> as the ggplot
<code>x</code> is evaluated</li>
<li>“g” or “gtable”: Invisibly returns the <code>&lt;gtable&gt;</code>
grob after evaluating <code>x</code> with injected expressions in
<code>method</code>.</li>
<li>“b” or “both”: returns the tracedump while rendering the gtable
(with <code><a href="https://rdrr.io/r/grid/grid.draw.html" class="external-link">grid::grid.draw()</a></code>) as a side effect.</li>
</ul></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.8" id="ggtrace-048">ggtrace 0.4.8<a class="anchor" aria-label="anchor" href="#ggtrace-048"></a></h2>
<div class="section level4">
<h4 id="new-features-0-4-8">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-4-8"></a></h4>
<ul><li>Added <code><a href="../reference/with_ggtrace.html">with_ggtrace()</a></code> for a functional interface to
<code><a href="../reference/ggtrace.html">ggtrace()</a></code>
</li>
<li>Added <code><a href="../reference/ggtrace_capture_fn.html">ggtrace_capture_fn()</a></code> and
<code><a href="../reference/ggtrace_capture_env.html">ggtrace_capture_env()</a></code>, which return a snapshot of the
function/environment of the ggproto method at execution time</li>
<li>Added <code><a href="../reference/ggtrace_inspect_return.html">ggtrace_inspect_return()</a></code> and
<code>ggtrace_modify_return()</code> to grab and swap return values at
method’s execution</li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-0-4-8">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-4-8"></a></h4>
<ul><li>Added workflows section to docs/references</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.7" id="ggtrace-047">ggtrace 0.4.7<a class="anchor" aria-label="anchor" href="#ggtrace-047"></a></h2>
<div class="section level4">
<h4 id="new-features-0-4-7">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-4-7"></a></h4>
<ul><li>Added <code><a href="../reference/get_method.html">ggformals()</a></code> which returns the
<code><a href="https://rdrr.io/r/base/formals.html" class="external-link">formals()</a></code> of functions and ggproto methods</li>
<li>
<code><a href="../reference/get_method.html">ggbody()</a></code> gains a <code>as.list</code> argument to
control whether output of <code><a href="https://rdrr.io/r/base/body.html" class="external-link">body()</a></code> is turned into a list</li>
<li>Exported <code><a href="../reference/last_ggtrace.html">set_last_ggtrace()</a></code> and
<code><a href="../reference/global_ggtrace.html">set_global_ggtrace()</a></code> for the tracedumps</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fix-0-4-7">Bug Fix<a class="anchor" aria-label="anchor" href="#bug-fix-0-4-7"></a></h4>
<ul><li>Fixed compatibility issues with {rlang} v1.0.0 new changes to the
<em>call</em> and <em>expression</em> API</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.6" id="ggtrace-046">ggtrace 0.4.6<a class="anchor" aria-label="anchor" href="#ggtrace-046"></a></h2>
<div class="section level4">
<h4 id="new-features-0-4-6">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-4-6"></a></h4>
<ul><li>Added <code><a href="../reference/get_method.html">get_method()</a></code> which returns ggproto methods as
functions</li>
<li>Added wrappers for one-off workflows <code><a href="../reference/ggdebug.html">ggdebugonce()</a></code> and
<code><a href="../reference/ggtraceback.html">ggtraceback()</a></code>
</li>
</ul></div>
<div class="section level4">
<h4 id="improvements-0-4-6">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-4-6"></a></h4>
<ul><li>The default value for the <code>verbose</code> argument of
<code><a href="../reference/ggtrace.html">ggtrace()</a></code> is changed to <code>FALSE</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="ggtrace-0-4-6">ggtrace 0.4.5<a class="anchor" aria-label="anchor" href="#ggtrace-0-4-6"></a></h3>
<div class="section level4">
<h4 id="improvements-0-4-6-1">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-4-6-1"></a></h4>
<ul><li>Deparsed expressions printed as messages are now wrapped in
backticks (<a href="https://github.com/yjunechoe/ggtrace/issues/57" class="external-link">#57</a>)</li>
<li>
<code><a href="../reference/ggedit.html">ggedit()</a></code> now only works when
<code>isTRUE(interactive())</code> (<a href="https://github.com/yjunechoe/ggtrace/issues/62" class="external-link">#62</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="new-features-0-4-6-1">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-4-6-1"></a></h4>
<ul><li>Added <code>global_ggtrace_on/off()</code> which are aliases for
<code>global_ggtrace_state(TRUE/FALSE)</code> (<a href="https://github.com/yjunechoe/ggtrace/issues/63" class="external-link">#63</a>)</li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-0-4-6">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-4-6"></a></h4>
<ul><li>Added <a href="https://yjunechoe.github.io/ggtrace/articles/casestudy-ggxmean.html" class="external-link">exploratory
debugging case study vignette</a>
</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="ggtrace-0-4-6-1">ggtrace 0.4.4<a class="anchor" aria-label="anchor" href="#ggtrace-0-4-6-1"></a></h3>
<div class="section level4">
<h4 id="improvements-0-4-6-2">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-4-6-2"></a></h4>
<ul><li>
<code>clear_(last|global)_ggtrace()</code> functions now print a
message saying that the trace dump has been cleared.</li>
<li>Better error handling for closures that aren’t searchable from
environments</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fix-0-4-6">Bug Fix<a class="anchor" aria-label="anchor" href="#bug-fix-0-4-6"></a></h4>
<ul><li>Fixed but where methods with class <function> were being treated as
bare functions. Now closures and methods outside of ggproto objects
(e.g., R6 classes) can be traced too.</function></li>
</ul></div>
<div class="section level4">
<h4 id="miscellaneous-0-4-6-1">Miscellaneous<a class="anchor" aria-label="anchor" href="#miscellaneous-0-4-6-1"></a></h4>
<ul><li>Added <a href="https://yjunechoe.github.io/ggtrace/articles/FAQ.html" class="external-link">FAQ
vignette</a>
</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="ggtrace-0-4-6-2">ggtrace 0.4.3<a class="anchor" aria-label="anchor" href="#ggtrace-0-4-6-2"></a></h3>
<div class="section level4">
<h4 id="breaking-changes-0-4-6">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-4-6"></a></h4>
<ul><li>Global tracedump is turned off by default
(<code><a href="../reference/global_ggtrace.html">global_ggtrace_state()</a></code> is <code>FALSE</code> on load) and
must be explicitly activated with
<code>global_ggtrace_state(TRUE)</code>.</li>
</ul></div>
<div class="section level4">
<h4 id="improvements-0-4-6-3">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-4-6-3"></a></h4>
<ul><li>Improved messages for <code><a href="../reference/global_ggtrace.html">global_ggtrace_state()</a></code>
</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="ggtrace-0-4-6-3">ggtrace 0.4.2<a class="anchor" aria-label="anchor" href="#ggtrace-0-4-6-3"></a></h3>
<div class="section level4">
<h4 id="bug-fixes-0-4-6">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-6"></a></h4>
<ul><li>Fixed bug where <code>print_output = TRUE</code> would evaluate the
expression twice (problematic for Inject workflows and causing general
slowdowns)</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="ggtrace-0-4-6-4">ggtrace 0.4.1<a class="anchor" aria-label="anchor" href="#ggtrace-0-4-6-4"></a></h3>
<div class="section level4">
<h4 id="new-features-0-4-6-2">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-4-6-2"></a></h4>
<ul><li>Global collection of tracedumps can be turned on/off with
<code><a href="../reference/global_ggtrace.html">global_ggtrace_state()</a></code>. It is still active by default but
should memory become a concern, it can be turned off with
<code>global_ggtrace_state(state = FALSE)</code>.</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="ggtrace-0-4-6-5">ggtrace 0.4.0<a class="anchor" aria-label="anchor" href="#ggtrace-0-4-6-5"></a></h3>
<div class="section level4">
<h4 id="new-features-0-4-6-3">New Features<a class="anchor" aria-label="anchor" href="#new-features-0-4-6-3"></a></h4>
<ul><li>All functions in the package now support the tracing/untracing of
<strong>any arbitrary functions</strong> (exported, unexported,
user-defined, etc.). This also includes S3/S4 methods like
<code>ggplo2:::ggplot_build.ggplot</code> and
<code>ggplot2:::ggplot_add.Layer</code>. Some other examples of what’s
now possible.</li>
</ul></div>
<div class="section level4">
<h4 id="improvements-0-4-6-4">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-4-6-4"></a></h4>
<ul><li>
<code><a href="../reference/ggtrace.html">ggtrace()</a></code> gains a <code>...</code> for extensibility in
future updates.</li>
<li>
<code><a href="../reference/ggedit.html">ggedit()</a></code> gains a <code>remove_trace</code> argument.
When <code>TRUE</code>, it untraces first before editing.</li>
<li>Improved error messages for invalid expressions passed to
<code>method</code> argument of <code><a href="../reference/get_method.html">ggbody()</a></code>
</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-4-6-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-4-6-1"></a></h4>
<ul><li>Fix bug where <code><a href="../reference/ggtrace.html">ggtrace()</a></code> fails to evaluate the first
line when it’s the only reachable line (<a href="https://github.com/yjunechoe/ggtrace/issues/44" class="external-link">#44</a>)</li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3" id="ggtrace-03x">ggtrace 0.3.x<a class="anchor" aria-label="anchor" href="#ggtrace-03x"></a></h2>
<div class="section level3">
<h3 id="ggtrace-0-3">ggtrace 0.3.7<a class="anchor" aria-label="anchor" href="#ggtrace-0-3"></a></h3>
<div class="section level4">
<h4 id="bug-fixes-0-3">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3"></a></h4>
<ul><li>Fixed bug where incomplete traces due to early returns would not be
logged without any special warning. <code><a href="../reference/ggtrace.html">ggtrace()</a></code> now throws a
warning when the actual number of traced steps does not match the
expected number of traced steps (i.e., length of
<code>trace_steps</code>) and logs incomplete tracedumps (<a href="https://github.com/yjunechoe/ggtrace/issues/44" class="external-link">#44</a>)</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="ggtrace-0-3-1">ggtrace 0.3.6<a class="anchor" aria-label="anchor" href="#ggtrace-0-3-1"></a></h3>
<div class="section level4">
<h4 id="improvements-0-3">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-3"></a></h4>
<ul><li>
<code>ggtrace(..., once = TRUE)</code> is less noisy about there
being a persistent trace. It now only sends a line of message saying so
when the persistent trace is created. When it’s triggered, it’ll tell
you that there is a persistent trace on the methodbut will not remind
you to untrace it later nor print the corresponding
<code><a href="../reference/gguntrace.html">gguntrace()</a></code> code to do so.</li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-3-1">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3-1"></a></h4>
<ul><li>Fixed bug where <code>trace_exprs</code> evaluating to
<code>NULL</code> would be removed from the tracedump (<a href="https://github.com/yjunechoe/ggtrace/issues/38" class="external-link">#38</a>)</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="ggtrace-0-3-2">ggtrace 0.3.5<a class="anchor" aria-label="anchor" href="#ggtrace-0-3-2"></a></h3>
<div class="section level4">
<h4 id="new-features-0-3">New features<a class="anchor" aria-label="anchor" href="#new-features-0-3"></a></h4>
<ul><li>New function <code><a href="../reference/is_traced.html">is_traced()</a></code> checks whether a method is
currently being traced</li>
</ul></div>
<div class="section level4">
<h4 id="improvements-0-3-1">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-3-1"></a></h4>
<ul><li><p><code><a href="../reference/ggtrace.html">ggtrace()</a></code> now breaks early with a more informative
message if the method is not a function (ex:
<code>Stat$extra_params</code>, which is a 1-length character vector
<code>"na.rm"</code>)</p></li>
<li><p><code><a href="../reference/get_method.html">ggbody()</a></code> now warns if it’s returning the body of a
method that’s currently being traced (<a href="https://github.com/yjunechoe/ggtrace/issues/35" class="external-link">#35</a>)</p></li>
<li><p><code><a href="../reference/ggedit.html">ggedit()</a></code> now informs you if you’re editing on top of
an existing trace/edit.</p></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-3-2">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3-2"></a></h4>
<ul><li><p>Fixed bug where <code>trace_exprs</code> would fail to be
recycled if it is a list of length-1. Now a 1-length list of an
expression as well as an expression by itself will get recycled to match
the number of steps passed to <code>trace_steps</code>.</p></li>
<li><p>Fixed bug where <code><a href="../reference/ggtrace.html">ggtrace()</a></code> wouldn’t loop over
<code>trace_exprs</code> after the first time it’s triggered with
persistent tracing on (<code>once = TRUE</code>). Issue was due to
failing to reset the internal counter after each time the trace is
triggered.</p></li>
</ul></div>
</div>
<div class="section level3">
<h3 id="ggtrace-0-3-3">ggtrace 0.3.4<a class="anchor" aria-label="anchor" href="#ggtrace-0-3-3"></a></h3>
<div class="section level4">
<h4 id="breaking-changes-0-3">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-3"></a></h4>
<ul><li>The <code>.print</code> argument to <code><a href="../reference/ggtrace.html">ggtrace()</a></code> is
renamed to <code>print_output</code> to make its functionality more
transparent.</li>
</ul></div>
<div class="section level4">
<h4 id="new-features-0-3-1">New features<a class="anchor" aria-label="anchor" href="#new-features-0-3-1"></a></h4>
<p>Several options for finer control over printing and formatting of
output from <code><a href="../reference/ggtrace.html">ggtrace()</a></code>, in addition to the existing
<code>.print</code> argument:</p>
<ul><li><p><code><a href="../reference/ggtrace.html">ggtrace()</a></code> gets a <code>use_names</code> argument.
When <code>TRUE</code>, it uses the names of the list of expressions
passed to <code>trace_exprs</code> as the names for the tracedump set to
<code><a href="../reference/last_ggtrace.html">last_ggtrace()</a></code> and added to
<code><a href="../reference/global_ggtrace.html">global_ggtrace()</a></code>.</p></li>
<li><p><code><a href="../reference/ggtrace.html">ggtrace()</a></code> gets a <code>verbose</code> argument. When
<code>FALSE</code>, it suppresses the display of all
non-<code><a href="https://rdrr.io/r/base/message.html" class="external-link">message()</a></code> information, including information about
which expression is evaluated where, as well as the output of those
expressions when evaluated (which can be selectively suppressed with
<code>.print</code> for finer control). <code>verbose</code> is
<code>TRUE</code> by default.</p></li>
<li><p>Setting <code>options(ggtrace.suppressMessages = TRUE)</code>
will also suppress <code>messages()</code>s about what method is being
traced, whether a trace has been triggered on a method, whether there
exists a persistent trace, etc. This information is very important so
using this option is not recommended, but it has been made available.
This option is set to <code>FALSE</code> on package load.</p></li>
<li><p>Setting <code>options(ggtrace.as_tibble = TRUE)</code> will
return evaluated expressions as tibbles if the output is a data frame.
Using this option may be convenient for interactive inspections but it
is not recommended for testing or debugging (see <a href="https://github.com/tidyverse/ggplot2/issues/3018" class="external-link">related
{ggplot2} Github issue</a>). This option is set to <code>FALSE</code> on
package load.</p></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-0-3-2">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-3-2"></a></h4>
<ul><li><p>Tracedumps accumulated in <code><a href="../reference/global_ggtrace.html">global_ggtrace()</a></code> are named
after the method (+ hexadecimal ID) for ease of searching.
(<a href="https://github.com/yjunechoe/ggtrace/issues/31" class="external-link">#31</a>)</p></li>
<li><p>Triggering of a trace is now informed via <code><a href="https://rdrr.io/r/base/message.html" class="external-link">message()</a></code>
instead of <code><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat()</a></code> (<a href="https://github.com/yjunechoe/ggtrace/issues/29" class="external-link">#29</a>)</p></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-3-3">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3-3"></a></h4>
<ul><li>
<code><a href="../reference/ggtrace.html">ggtrace()</a></code> correctly throws an error when
<code>trace_steps</code> is not ordered. This is checked after the
negative index conversion, so something like <code>trace_steps = c(1,
-1)</code> still works fine).</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="ggtrace-0-3-4">ggtrace 0.3.3<a class="anchor" aria-label="anchor" href="#ggtrace-0-3-4"></a></h3>
<div class="section level4">
<h4 id="new-features-0-3-2">New features<a class="anchor" aria-label="anchor" href="#new-features-0-3-2"></a></h4>
<ul><li><p>New function <code><a href="../reference/global_ggtrace.html">global_ggtrace()</a></code> which returns
accumulated tracedumps from <code><a href="../reference/ggtrace.html">ggtrace()</a></code>. This is useful in
conjunction with <code>ggtrace(once = FALSE)</code> for tracing a method
that you expect will be called multiple times (ex:
<code>Stat$compute_group</code> gets triggered the same number of times
as the number of groups in a panel).</p></li>
<li><p>New function <code><a href="../reference/global_ggtrace.html">clear_global_ggtrace()</a></code> which clears
<code><a href="../reference/global_ggtrace.html">global_ggtrace()</a></code> by setting it to
<code>NULL</code>.</p></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-0-3-3">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-3-3"></a></h4>
<ul><li><p>Functions now pass around quosures instead of expressions
(<a href="https://github.com/yjunechoe/ggtrace/issues/29" class="external-link">#29</a>)</p></li>
<li><p>Testing setup (<a href="https://github.com/yjunechoe/ggtrace/issues/28" class="external-link">#28</a>)</p></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-3-4">Bug Fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3-4"></a></h4>
<ul><li>Fixed a bug where the number of expressions passed to
<code>trace_exprs</code> were allowed to be different from the number of
<code>trace_steps</code>, causing <code><a href="../reference/ggtrace.html">ggtrace()</a></code> to silently
fail. This now throws an error.</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="ggtrace-0-3-5">ggtrace 0.3.2<a class="anchor" aria-label="anchor" href="#ggtrace-0-3-5"></a></h3>
<div class="section level4">
<h4 id="improvements-0-3-4">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-3-4"></a></h4>
<ul><li><p><code>trace_exprs</code> argument can now take a named list of
expressions (<a href="https://github.com/yjunechoe/ggtrace/issues/21" class="external-link">#21</a>)</p></li>
<li><p>Improved documentation for <code><a href="../reference/get_method.html">ggbody()</a></code></p></li>
<li><p>More informative messages for <code><a href="../reference/ggtrace.html">ggtrace()</a></code> and
<code><a href="../reference/gguntrace.html">gguntrace()</a></code></p></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-3-5">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3-5"></a></h4>
<ul><li>No longer errors on exit when creating a persistence trace with
<code>once = FALSE</code>
</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="ggtrace-0-3-6">ggtrace 0.3.1<a class="anchor" aria-label="anchor" href="#ggtrace-0-3-6"></a></h3>
<div class="section level4">
<h4 id="improvements-0-3-5">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-3-5"></a></h4>
<ul><li><p>The unary functions <code><a href="../reference/ggedit.html">ggedit()</a></code> and
<code><a href="../reference/gguntrace.html">gguntrace()</a></code> gain dynamic dots <code>...</code> as the
second argument, which gets ignored. This now makes it easy to call
these function by modifying the call to an earlier<a href="https://yjunechoe.github.io/ggtrace" class="external-link">ggtrace</a>
function from the console or in other interactive contexts.</p></li>
<li>
<p>Significant re-write of <code><a href="../reference/get_method.html">ggbody()</a></code> for better error
handling (<a href="https://github.com/yjunechoe/ggtrace/issues/23" class="external-link">#23</a>)</p>
<ul><li><p>Aborts if method is not a call or is not of the accepted form,
with specific error messages for each.</p></li>
<li><p>If a method doesn’t exist in a parent, directs users to call
<code>ggbody(, inherit = TRUE)</code></p></li>
<li><p>If the recursive search with <code>inherit = TRUE</code> fails,
directs users to load all relevant packages</p></li>
<li><p>Notifies if <code>inherit = TRUE</code> but method is defined for
the object, not inherited</p></li>
</ul></li>
<li>
<p>Better error handling for <code><a href="../reference/gguntrace.html">gguntrace()</a></code> when the
method is no longer being traced (<a href="https://github.com/yjunechoe/ggtrace/issues/24" class="external-link">#24</a>)</p>
<ul><li><p>Uses the re-written <code><a href="../reference/get_method.html">ggbody()</a></code> to validate the
method</p></li>
<li><p>Unlike <code><a href="https://rdrr.io/r/base/trace.html" class="external-link">base::untrace()</a></code>, no longer errors if given a
method not currently being traced. It now prints a message saying so
instead</p></li>
</ul></li>
<li><p>Standardization of messages printed by all <a href="https://yjunechoe.github.io/ggtrace" class="external-link">ggtrace</a>
functions. Messages are now more informative and refer to the ggproto
method in the callable format <code>ggproto$method</code>.</p></li>
</ul></div>
</div>
<div class="section level3">
<h3 id="ggtrace-0-3-7">ggtrace 0.3.0<a class="anchor" aria-label="anchor" href="#ggtrace-0-3-7"></a></h3>
<div class="section level4">
<h4 id="breaking-changes-0-3-1">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-3-1"></a></h4>
<ul><li>
<p>The <code>obj</code> argument is completely removed from all
functions in the package. The constraint on supplying methods as
expressions forces users to be intentional about tracing ggproto methods
by having to provide them as code. This also allows the functions to
return more informative messages, which was the main motivation for this
breaking change.</p>
<ul><li><p>
Because the <code>obj</code> argument was only designed for
compatibility with the <code>get("method", ggproto)</code> syntax for
retrieving the function body of ggproto methods, it should not affect
interactive workflows. In fact, the shortform <code>method =
ggproto$method</code> is more convenient and has always been recommended
for passing a ggproto method to <a href="https://yjunechoe.github.io/ggtrace" class="external-link">ggtrace</a> functions.
</p></li>
</ul></li>
<li>
<p>As a reminder, all functions that take the ggproto method in the
<code>method</code> argument expects an expression in the following
forms (this part hasn’t changed):</p>
<ul><li><code>ggproto$method</code></li>
<li><code>namespace::ggproto$method</code></li>
<li><code>namespace:::ggproto$method</code></li>
</ul></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-0-3-6">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-3-6"></a></h4>
<ul><li><p>Accurate string conversion for ggproto objects (<a href="https://github.com/yjunechoe/ggtrace/issues/9" class="external-link">#9</a>), made
possible by the breaking change.</p></li>
<li><p><code>trace_steps</code> argument can now take negative indices
(<a href="https://github.com/yjunechoe/ggtrace/issues/22" class="external-link">#22</a>) and has better error handling for out of range indices.</p></li>
<li><p>Better deparsing for the <code>split_ggproto_method()</code>
internal.</p></li>
<li><p>Added a Tips &amp; Tricks section to the documentation for
<code><a href="../reference/ggtrace.html">ggtrace()</a></code>.</p></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-3-6">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3-6"></a></h4>
<ul><li>Internal variable <code>.store</code> renamed to
<code>.ggtrace_storage</code> to prevent overriding
<code>ggplot2::.store</code> (<a href="https://github.com/yjunechoe/ggtrace/issues/18" class="external-link">#18</a>)</li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2" id="ggtrace-02x">ggtrace 0.2.x<a class="anchor" aria-label="anchor" href="#ggtrace-02x"></a></h2>
<div class="section level3">
<h3 id="ggtrace-0-2">ggtrace 0.2.0<a class="anchor" aria-label="anchor" href="#ggtrace-0-2"></a></h3>
<div class="section level4">
<h4 id="breaking-changes-0-2">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-2"></a></h4>
<ul><li><p>The <code>~line</code> keyword for <code><a href="../reference/ggtrace.html">ggtrace()</a></code> is
renamed to <code>~step</code> for consistency with the argument name
<code>trace_steps</code> (<a href="https://github.com/yjunechoe/ggtrace/issues/14" class="external-link">#14</a>)</p></li>
<li>
<p>For safety reasons, the <code>~step</code> keyword will now only
be substituted for the expression at the current step only if
<code>~step</code> is by itself (i.e., is an exact match) (<a href="https://github.com/yjunechoe/ggtrace/issues/16" class="external-link">#16</a>,
<a href="https://github.com/yjunechoe/ggtrace/issues/11" class="external-link">#11</a>).</p>
<ul><li><p>
For example, <code>~step</code> will not be substituted if
<code>quote(head(~step))</code> is passed to <code>trace_exprs</code>.
Users are encouraged to return the method’s environment with
<code>quote(environment())</code> or interactively debug with
<code><a href="../reference/ggedit.html">ggedit()</a></code> if they want to manipulate the expression.
</p></li>
</ul></li>
<li><p>The position of the <code>obj</code> argument of
<code><a href="../reference/ggtrace.html">ggtrace()</a></code> has been moved from second to fourth, to allow
for shortcuts like <code>ggtrace(method = ..., 2:3, quote(data))</code>,
which will evaluate and store the output of the <code>data</code>
variable at the second and third steps of the method body.
(<a href="https://github.com/yjunechoe/ggtrace/issues/15" class="external-link">#15</a>)</p></li>
</ul></div>
<div class="section level4">
<h4 id="new-features-0-2">New features<a class="anchor" aria-label="anchor" href="#new-features-0-2"></a></h4>
<ul><li><p><code>trace_exprs</code> argument of <code><a href="../reference/ggtrace.html">ggtrace()</a></code> is
now optional. If not provided, defaults to <code>~step</code>
(<a href="https://github.com/yjunechoe/ggtrace/issues/13" class="external-link">#13</a>)</p></li>
<li><p>You can now tell <code><a href="../reference/get_method.html">ggbody()</a></code> to (recursively) search
for the method from its parents with <code>inherit = TRUE</code>
(<a href="https://github.com/yjunechoe/ggtrace/issues/12" class="external-link">#12</a>)</p></li>
</ul></div>
<div class="section level4">
<h4 id="improvements-0-2">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-2"></a></h4>
<ul><li>Documentation for some of the functions now contain a
<strong>Gotchas</strong> section for explanations of / solutions to
common problems (<a href="https://github.com/yjunechoe/ggtrace/issues/10" class="external-link">#10</a>)</li>
</ul></div>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1" id="ggtrace-01x">ggtrace 0.1.x<a class="anchor" aria-label="anchor" href="#ggtrace-01x"></a></h2>
<div class="section level3">
<h3 id="ggtrace-0-1">ggtrace 0.1.2<a class="anchor" aria-label="anchor" href="#ggtrace-0-1"></a></h3>
<div class="section level4">
<h4 id="new-features-0-1">New features<a class="anchor" aria-label="anchor" href="#new-features-0-1"></a></h4>
<ul><li><p>New function <code><a href="../reference/gguntrace.html">gguntrace()</a></code> with the same syntax for
specifying the ggproto method.</p></li>
<li><p><code><a href="../reference/ggtrace.html">ggtrace()</a></code> gains a <code>once = TRUE</code> argument,
which can be set to <code>FALSE</code> for persistent tracing</p></li>
</ul></div>
<div class="section level4">
<h4 id="bug-fixes-0-1">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-1"></a></h4>
<ul><li>Fix bug in <code><a href="../reference/ggtrace.html">ggtrace()</a></code> where <code>step_deparsed</code>
was being returned as a multi-length vector</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="ggtrace-0-1-1">ggtrace 0.1.1<a class="anchor" aria-label="anchor" href="#ggtrace-0-1-1"></a></h3>
<div class="section level4">
<h4 id="new-features-0-1-1">New features<a class="anchor" aria-label="anchor" href="#new-features-0-1-1"></a></h4>
<ul><li>New function <a href="https://yjunechoe.github.io/ggtrace/reference/ggedit.html" class="external-link"><code>ggedit()</code></a>
for interactive debugging via directly editing the source code.</li>
</ul></div>
<div class="section level4">
<h4 id="improvements-0-1">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-1"></a></h4>
<ul><li><p>Refactored <code><a href="../reference/ggtrace.html">ggtrace()</a></code>. The package now only depends
on <a href="https://rlang.r-lib.org" class="external-link">rlang</a>.</p></li>
<li><p>Significant re-write to the readme / documentation</p></li>
</ul></div>
</div>
<div class="section level3">
<h3 id="ggtrace-0-1-2">ggtrace 0.1.0<a class="anchor" aria-label="anchor" href="#ggtrace-0-1-2"></a></h3>
<div class="section level4">
<h4 id="initial-release-0-1">Initial release<a class="anchor" aria-label="anchor" href="#initial-release-0-1"></a></h4>
<p>pkgdown site: <a href="https://yjunechoe.github.io/ggtrace" class="external-link">https://yjunechoe.github.io/ggtrace</a></p>
<p>Functions:</p>
<ul><li><a href="https://yjunechoe.github.io/ggtrace/reference/ggtrace.html" class="external-link">ggtrace()</a></li>
<li><a href="https://yjunechoe.github.io/ggtrace/reference/ggbody.html" class="external-link">ggbody()</a></li>
<li><a href="https://yjunechoe.github.io/ggtrace/reference/last_ggtrace.html" class="external-link">last_ggtrace()</a></li>
</ul></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://yjunechoe.github.io" class="external-link">June Choe</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.1.</p>
</div>

    </footer></div>

  

  

  </body></html>

